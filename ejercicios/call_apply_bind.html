<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>
      function.prototype.call, function.prototype.apply, function.prototype.bind
   </title>
</head>
<body>
   <a href="/ejercicios">Go back</a>
   <p><em>Abre la consola</em></p>

   <ul>
      <li><button class="call-to-action">Aprender</button></li>
      <li><button class="call-to-action">Aprender Mas</button></li>
      <li><button class="call-to-action">Nunca parar de Aprender</button></li>
   </ul>

   <script>
      // Establece 'this' usando 'call'
      function saludar() {
         console.log(`Hola, me llamo ${this.name} ${this.apellido}`);
      }

      const person = {
         name: 'Carlos',
         apellido: 'Zambrano',
      }

      saludar.call(person);

      function caminar(metros, direccion) {
        console.log(
          `${this.name} ${this.apellido} camin칩 ${metros} hacia el ${direccion}`
        );
      }

      caminar.call(person, 1000, "sur");

      // Establece 'this' usando 'apply' y pasando argumentos a la funcion
      caminar.apply(person, [800, "sureste"]);

      const parametros = [800, "sureste"];
      caminar.apply(person, parametros);

      const daniel = {
        name: "Daniel",
        apellido: "S치nchez"
      };
      saludar.bind(daniel); // No ejecuta la funcion como call o apply
      const saludarConDaniel = saludar.bind(daniel); 
      saludarConDaniel();

      const danielCamina = caminar.bind(daniel);
      danielCamina(200, "oeste");

      // Cuando es util usar uno de estos metodos
      const buttons = document.getElementsByClassName("call-to-action");
      // buttons.forEach(botton => {
      //     botton.onclick = ()=> {
      //         alert('Nunca pares de aprender')  
      //     }
      // });

      // Nodelist
      // Array.prototype.forEach.call(buttons, button => {
      //    button.onclick = () => alert('Nunca pares de aprender');
      // });

      // OTRA FORMA DE HACERLO ES MEDIANTE EL Operador de Propagaci칩n
      const botones3 = document.getElementsByClassName('call-to-action')
        console.log(botones3); // importante el ;, la siguiente linea empieza con un array

        // Transformo la colecci칩n de elemetnos HTML en un arreglo con spread operator.
        // Practicamente spread toma la matriz y la convierte en una lista de elementos
        // Si pasamos una cadena, la convierte en una matriz de caracteres
        [...botones3].forEach(el => {
            el.onclick = () => {
                alert('Rest Operator')
            }
        })

   </script>
</body>
</html>