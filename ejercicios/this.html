<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>this</title>
</head>
<body>
   <a href="/ejercicios/index.html">Go back</a>
   <p><em>Abre la consola</em></p>

   <h1>
      <code>This</code> se refiere a un objeto. Ese objeto es el que actualmente
       esta ejecutando un pedazo de codigo.
   </h1>

   <script>
      // this en el scope global
      console.log(`this: ${this}`); // this: [object Window]

      // this en el scope de una funcion
      function whoIsThis() {
         return this;
      }

      console.log(`whoIsThis() ${whoIsThis()}`); // whoIsThis() [object Window]

      // this en el scope de una funcion en strict mode
      function whoIsThisStrict() {
         "use strict";
         return this;
      }

      console.log(`whoIsThisStrict() ${whoIsThisStrict()}`); // whoIsThisStrict() undefined

      // this en el contexto de un objeto
      const person = {
         name: 'carlos',
         saludar: function() {
            console.log(`Hola soy ${this.name}`);
         }
      }

      console.log('person.saludar'); // person.saludar
      person.saludar();              // Hola soy carlos

      // this cuando sacamos a una funcion de un objeto
      const accion = person.saludar;
      accion(); // Hola soy

      // this en el contexto de una "clase"
      function Person(name) {
         // this = {}
         this.name =  name;
      }

      Person.prototype.saludar = function() {
         console.log(`Me llamo ${this.name}`);
      }

      const eduardo = new Person('Eduardo');
      eduardo.saludar(); //Me llame Eduardo

   </script>
</body>
</html>